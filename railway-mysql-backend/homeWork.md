- 2025 07 31
  需求；实现一个玩家注册接口，接口传入两个，用户id和上级id，调用接口，实现往gameRecord和commission两个表中插入对应用户数据，时间为当天。

  # 判断用户id的唯一性，真实性
  需求：实现一个玩家下注接口，接口传入参数有两个，用户id和下注金额，要求做到以下三种情况：
   1. 用户id在表中已存在更新下注金额
   2. 用户id在表中不存在插入一条记录并更新下注金额
   3. 用户id非法：例如，用户id输入的是空或者空字符串等一系列不为数字的值不进行任何操作，并且返回一个错误

# 实现需求
   1. 用户ID必须存在 不能为空if (!userId || userId === " ")
    - 为空时，返回一个错误'用户ID必须输入'
    - == null 会同时判断 null 和 undefined。if (userId == null || userId === '')
    - 只针对 "未传或空字符串" 的情况。
    - 拦截空值（如 null, undefined, "", " "）
   2. 用户ID为必须为正整数（数字类型）
    - 拦截负数，非整数(小数)，null, undefined，" "，""，0(必须大于0),
     - if (typeof userId !== "number" || !Number.isInteger(userId) || userId <= 0) 
   3. 获取用户信息
      - if (!user || user.length === 0)
        - 查找数组信息，数组长度为0，就是不存在。 
      - 如果用户不存在，就插入条新的该用户信息,插入时，:
          - if (inviteId !== undefined && inviteId !== null)
          - 如果body有传inviteId,就插入用户ID，邀请ID, 投注金额
            - 插入后返回：'查不到数据，已插入新记录'
          - else
          - 没传，就插入用户ID，投注金额(邀请ID走创表默认值)
            - 插入后返回：'查不到数据，已插入新记录'
      - else
      - 如果用户存在，就根据用户ID更新投注金额
        - 更新后返回：'查到了数据，已更新记录'
    return {
        success: true,
        message: '投注金额更新成功'
    }

#
// 判断用户ID
    // 1. 用户ID为空时，返回啥
    // 2. 用户ID不为数字，返回啥 
    // 3. 用户ID为负数的情况，返回啥，
    // 4. 投注金额必须存在 不能为空
    // 5. 投注金额必须为数字
    // 6. 投注金额必须为正整数
    // 获取用户信息 
    const [user]: [any[], any]意思是：
	•	user 是从 [any[], any] 的第一个位置解构来的
	•	整个结果是一个元组：[查询结果数组, 字段信息]
	•	any[]：查询返回的结果数组（每行数据是一个对象）
	•	any：字段的元信息（一般没用到，可以忽略）
    const [user]: [any[], any]= await connection.query('SELECT * FROM gameRecord WHERE userId = ?', [userId])
    // 如果用户不存在，就插入该用户信息，用户ID 和投注金额
    
    // 如果用户存在，更新投注金额

要求：
1. 不要告诉模棱两可答案
2. 只承认最后的结果
3. 只提供解决问题思路，不告诉代码怎么写


第一：要用if实现这个需求（这就是逻辑）
第二：你非要你所说的其他方法，我说我不知道你指的是哪个，也不知道怎么实现（我没有撒谎，或者不懂装懂吧）

然后提到的代码不会，怎么证明if就可以，？ 我都不会代码，我怎么证明？ 我只能说如果存在就不插入，你可以评价我的答案不是你要的，但是我有逻辑。

你不能说我没逻辑，说我很差之类的，说我撒谎？

没有就是没有，有就是有、、、

接受不接受我是一回事，但是不能无中生有，你可以说你很讨厌我的答案，但是不能冤枉我撒谎，或者否定我本来就有的东西

2. 把示例写给我，不懂汇总，回答 。
   
1，贬低，不写任何代码，引导找到结果，不承认






# 2025-08-02 用户代理关系
1. 整理gameRecord表，让gameRecord表内的数据功能更单一。
2. 设计代理关系表，需要做到可查询整条代理线所有用户、某个用户的所有直属下级、某个用户的所有团队下级。
3. 写出一个语句，统计某个用户对应游戏类型的团队业绩、直属业绩和总业绩。
